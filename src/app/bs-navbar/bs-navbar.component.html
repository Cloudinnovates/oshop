<!--  Bootstrap navigation bar component -->
<!--  Changed navbar-dark to navbar-light and bg-dark to bg-light-->
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top">

	<div class="container">
		<a class="navbar-brand" routerLink="/"> <i class="fa fa-leaf"
			aria-hidden="true"></i>
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarsExampleDefault"
			aria-controls="navbarsExampleDefault" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarsExampleDefault">
			<ul class="navbar-nav mr-auto">
				<!--  No longer need home link since we can navigate using brand name like
                <li class="nav-item active">
                  <a class="nav-link" routerLink="/">Home <span class="sr-only">(current)</span></a>
               </li>
                -->
				<li class="nav-item"><a class="nav-link"
					routerLink="/shopping-cart"> <i class="fa fa-shopping-cart"
						aria-hidden="true"></i> <!-- Bootstrap badge --> <span
						class="badge badge-warning badge-pill"
						*ngIf="cart$ | async as cart"> {{ cart.totalItemsCount }} </span>
				</a></li>


			

				<!-- 
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
           -->

				<!-- Rendering Drop Down Menu in the Navigation Bar -->

				
			</ul>
			
			
		<ul class="navbar-nav">
				<!--  No longer need home link since we can navigate using brand name like
                <li class="nav-item active">
                  <a class="nav-link" routerLink="/">Home <span class="sr-only">(current)</span></a>
               </li>
                -->
				

				<ng-template #anonymousUser> <!-- Show/Hide this based on whether user is logged in or not. -->
				<li class="nav-item"><a class="nav-link" routerLink="/login">Login</a>
				</li>
				</ng-template>

				<!-- 
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
           -->

				<!-- Rendering Drop Down Menu in the Navigation Bar -->

				<li ngbDropdown *ngIf="appUser; else anonymousUser"
					class="nav-item dropdown"><a ngbDropdownToggle
					class="nav-link dropdown-toggle" id="dropdown01"
					data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						{{ appUser.name }} </a>
					<div ngbDropdownMenu class="dropdown-menu"
						aria-labelledby="dropdown01">
						<a class="dropdown-item" routerLink="/my/orders">My Orders</a>


						<ng-container *ngIf="appUser.isAdmin"> <a
							class="dropdown-item" routerLink="/admin/orders">Manage
							Orders</a> <a class="dropdown-item" routerLink="/admin/products">Manage
							Products</a> </ng-container>

						<a class="dropdown-item" (click)="logout()">Log Out</a>
					</div></li>
			</ul>

			

		</div>

	</div>
	<!-- End of container div -->
</nav>
